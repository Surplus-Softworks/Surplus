// ==UserScript==
// @name         Surplus
// @version      1.8
// @description  A cheat for survev.io & more
// @author       mahdi, noam
// @match        *://*/*
// @run-at       document-start
// @icon         https://i.postimg.cc/W4g7cxLP/image.png
// ==/UserScript==

// Copyright Â© Surplus Softworks

(function() {
  const whitelist = [
    'surviv',
    'survev',
    'resurviv',
    'zurviv',
    'expandedwater',
    '66.179.254.36',
    'eu-comp',
    '50v50',
    'surv',
    'zurv',
  ];

  if (!whitelist.some(domain => globalThis.location.hostname.includes(domain))) {
    return;
  };

  (()=>{var b={};for(let e of Object.getOwnPropertyNames(Object))b[e]=Object[e];var a={};for(let e of b.getOwnPropertyNames(Reflect))a[e]=Reflect[e];var B=new WeakMap,et=Proxy;B.set=B.set;B.get=B.get;B.delete=B.delete;B.has=B.has;function k(e,t,o){let i=new et(e[t],o);B.set(i,e[t]),e[t]=i}k(Function.prototype,"toString",{apply(e,t,o){return a.apply(e,B.get(t)||t,o)}});var g=globalThis.EventTarget.prototype.addEventListener;var n;function ze(e){k(Function.prototype,"bind",{apply(t,o,i){try{i[0]?.nameInput!=null&&i[0]?.game!=null&&(Function.prototype.bind=t,n=i[0],window.gameManager=n,e())}catch{}return a.apply(t,o,i)}})}var O={MoveLeft:0,MoveRight:1,MoveUp:2,MoveDown:3,Fire:4,Reload:5,Cancel:6,Interact:7,Revive:8,Use:9,Loot:10,EquipPrimary:11,EquipSecondary:12,EquipMelee:13,EquipThrowable:14,EquipFragGrenade:15,EquipSmokeGrenade:16,EquipNextWeap:17,EquipPrevWeap:18,EquipLastWeap:19,EquipOtherGun:20,EquipPrevScope:21,EquipNextScope:22,UseBandage:23,UseHealthKit:24,UseSoda:25,UsePainkiller:26,StowWeapons:27,SwapWeapSlots:28,ToggleMap:29,CycleUIMode:30,EmoteMenu:31,TeamPingMenu:32,Fullscreen:33,HideUI:34,TeamPingSingle:35,Count:36},Fe={None:0,Join:1,Disconnect:2,Input:3,Edit:4,Joined:5,Update:6,Kill:7,GameOver:8,Pickup:9,Map:10,Spectate:11,DropItem:12,Emote:13,PlayerStats:14,AdStatus:15,Loadout:16,RoleAnnouncement:17,Stats:18,UpdatePass:19,AliveCounts:20,PerkModeRoleSelect:21},te,H,L,U,K;k(Object,"keys",{apply(e,t,o){try{te==null&&o[0]?.bullet_mp5?.type=="bullet"?te=o[0]:H==null&&o[0]?.explosion_frag?.type=="explosion"?H=o[0]:L==null&&o[0]?.mp5?.type=="gun"?L=o[0]:U==null&&o[0]?.frag?.type=="throwable"?U=o[0]:K==null&&o[0]?.barrel_01?.type=="obstacle"&&(K=o[0]),te!=null&&H!=null&&L!=null&&U!=null&&K!=null&&(Object.keys=e)}catch{}return a.apply(e,t,o)}});function j(e){return b.keys(n.game.playerBarn.teamInfo).find(t=>n.game.playerBarn.teamInfo[t].playerIds.includes(e.__id))}function oe(e){let t=e.netData.activeWeapon;return t&&L[t]?L[t]:null}function ie(e){return e?te[e.bulletType]:null}var N={Graphics:void 0,Container:void 0};function tt(){if(n.game?.initialized)try{c.xray.enabled&&(n.game.renderer.layers[3].children.forEach(e=>{e._texture?.textureCacheIds!=null&&e._texture.textureCacheIds.some(t=>t.includes("ceiling")&&!t.includes("map-building-container-ceiling-05")||t.includes("map-snow-"))&&(e.visible=!1)}),n.game.smokeBarn.particles.forEach(e=>{e.pos={x:1e6,y:1e5}}),n.game.map.obstaclePool.pool.forEach(e=>{["tree","table","stairs"].some(t=>e.type.includes(t))&&(e.sprite.alpha=.55),["bush"].some(t=>e.type.includes(t))&&(e.sprite.alpha=0)}))}catch{}}var Le=!0;function ce(){k(n.game.playerBarn.playerPool.pool,"push",{apply(e,t,o){return o.forEach(i=>{b.defineProperty(i,"bleedTicker",{configurable:!0,set(r){this._bleedTicker=r;let s=n.game.activePlayer,l=j(s),p=j(i);b.defineProperty(i.nameText,"visible",{configurable:!0,value:!0}),b.defineProperty(i,"tint",{configurable:!0,value:p==l?3836148:16721960}),b.defineProperty(i.nameText.style,"fill",{configurable:!0,value:p==l?"#3a88f4":"#ff2828"}),b.defineProperty(i.nameText.style,"fontSize",{configurable:!0,value:20}),b.defineProperty(i.nameText.style,"dropShadowBlur",{configurable:!0,value:.1})},get(){return this._bleedTicker}})}),a.apply(e,t,o)}}),Le&&(setInterval(tt,150),Le=!1)}function pe(){a.apply(g,globalThis,["wheel",e=>{if(e.shiftKey&&c.infiniteZoom.enabled)try{let t=n.game.activePlayer.localData.zoom;e.deltaY>0?t+=20:(t-=30,t=Math.max(36,t)),b.defineProperty(n.game.activePlayer.localData,"zoom",{configurable:!0,get(){return t},set(){}}),e.stopImmediatePropagation()}catch{}}])}var Ze=`<style>*{font-family:GothamPro,sans-serif;box-sizing:border-box;margin:0;padding:0}.popup{user-select:none;position:relative;background:#1a1a1a;border-radius:15px;box-shadow:0 8px 32px rgba(0,0,0,.3);width:340px;min-height:380px;overflow:hidden;border:1px solid #333;transition:all .3s ease-out}.header{background:#222;padding:10px;border-bottom:1px solid #333;user-select:none;transition:all .1s ease;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative}.header::after{content:'';position:absolute;bottom:-1px;left:0;right:0;height:.5px;background:linear-gradient(90deg,transparent,#656565 50%,transparent)}.header:hover{background:#262626;border-bottom:1px solid #444;transition:all .2s ease}.header:active{background:#2d2d2d;border-bottom:1px solid #444;transition:all .2s ease}.menu-icon{height:20px;pointer-events:none;position:absolute;left:6px;top:7px}.navbar{background:#222;padding:8px;border-bottom:1px solid #333}.title{font-size:16px;font-weight:600;color:#fff;text-align:center;position:relative;z-index:1}.credit{font-size:12px;font-style:italic;color:rgba(255,255,255,.45);text-align:center;display:block;position:relative;z-index:1}.nav-tabs{display:flex;gap:8px;align-items:center;justify-content:center;transition:all .3s ease}.nav-tab{padding:6px 12px;background:#333;border:none;border-radius:4.5px;color:#bababa;font-size:12px;font-weight:500;cursor:pointer;transition:transform .1s ease}.nav-tab:active{transform:scale(.95)}.nav-tab.active{background:#393939;color:#fff;border:1px solid #666;transform:translateY(-1px)}.close-btn{position:absolute;top:1px;right:8px;cursor:pointer;border:none;background:0 0;font-size:20px;color:#666;transition:all .2s ease}.close-btn:hover{color:#fff;rotate:45deg;scale:0.95;transition:all .2s ease}.content-container{padding-top:10px;padding-left:16px;padding-right:16px;display:none}.content-container.active{display:block}.section{margin-bottom:20px}.section-title{color:#fff;font-size:13px;font-weight:600;margin:0 0 6px 0;letter-spacing:.5px;display:flex;justify-content:space-between;align-items:center;gap:6px}.group .section-title{margin-top:10px}.section-title .checkbox-item{border:none;background:0 0;padding:4px 6px;margin:0}.section-title .checkbox-item:hover{background:rgba(255,255,255,.05);border-radius:6px}.section-title label{font-size:12px;color:#ddd!important}.subsection-title{color:#bbb;font-size:12px;font-weight:500;margin:14px 0 4px 15px;position:relative}.subsection-title::before{content:'';position:absolute;left:-10px;top:50%;height:1px;width:6px;background:#666}.group{display:flex;flex-direction:column;background:rgba(255,255,255,.03);border-radius:8px;padding:10px;margin-bottom:16px;gap:6px;border:1px solid rgba(255,255,255,.05);transition:all .1s ease,transform .1s ease}.group:hover{background:rgba(255,255,255,.04);transform:translateY(-1px)}.subgroup{margin-left:15px;border-left:2px solid rgba(255,255,255,.1);padding-left:10px}.checkbox-item{border:1px solid #2c2c2c;display:inline-flex;align-items:center;padding:8px;border-radius:6px;transition:background .2s ease;cursor:pointer;width:fit-content}.checkbox-item:hover{background:rgba(255,255,255,.05);transition:background .2s ease}.checkbox-item:active{transform:scale(.95)}.checkbox-item label{color:#ddd;font-size:13px;margin-left:8px;cursor:pointer;pointer-events:none}input[type=checkbox]{appearance:none;width:16px;height:16px;border:2px solid #888;border-radius:4px;background:#222;position:relative;transition:all .1s cubic-bezier(.68, -.55, .27, 1.55);cursor:pointer}input[type=checkbox]:checked{background:#66db6a;border-color:#66db6a;box-shadow:0 0 10px rgba(102,219,106,.12)}.aimbot-dot{position:absolute;background-color:red;width:10px;height:10px;opacity:70%;transform:translateX(-50%) translateY(-50%);display:none;border-radius:50%}.slider-container{display:flex;align-items:center;gap:10px}input[type=range]{appearance:none;width:120px;height:8px;background:#333;border-radius:5px;outline:0;cursor:pointer;background:linear-gradient(to right,#66db6a 0,#66db6a var(--slider-value),#333 var(--slider-value),#3b3b3b 100%)}input[type=range]::-webkit-slider-thumb{appearance:none;width:16px;height:16px;background:#888;border:2px solid #2c2c2c;border-radius:50%;cursor:pointer}input[type=range]::-moz-range-thumb{width:16px;height:16px;background:#888;border:2px solid #2c2c2c;border-radius:50%;cursor:pointer}input[type=range]::-moz-range-thumb:hover,input[type=range]::-webkit-slider-thumb:hover{background:#bbb}input[type=range]::-moz-range-thumb:active,input[type=range]::-webkit-slider-thumb:active{background:#ddd}.keybind-slot{width:28px;height:12px;background-color:#333;color:#888;font-size:9px;display:flex;align-items:center;justify-content:center;border-radius:4px}.section-title-container{display:flex;align-items:center;gap:3px}.section-title{color:#fff;font-size:13px;font-weight:600;margin:0 0 6px 0;letter-spacing:.5px;display:flex;align-items:center;justify-content:flex-start;gap:6px}.section-title-container{flex-grow:1}.keybind-info{color:#ddd;font-size:11px;margin:0 5px;display:inline-block;vertical-align:middle}.help-text{color:#ddd;margin-bottom:10px;font-size:13px}.help-keybind{display:inline-flex;vertical-align:top}.discord-links{list-style-type:disc;padding-left:20px;margin-bottom:10px}.discord-links li{margin-bottom:5px}.discord-links a{color:#ddd;text-decoration:none}.discord-links a:hover{text-decoration:underline}.link-label{color:#a3a3a3;margin-right:5px}.credits-text{color:#a3a3a3;margin-bottom:10px;font-size:13px}li{font-size:13px}li::marker{color:silver}</style><div id="ui"><div class="popup"><div class="header"><img src="https://i.postimg.cc/W4g7cxLP/image.png" alt="Menu" class="menu-icon"><div class="title">Surplus 1.8</div><div class="credit">by mahdi, noam</div></div><div class="navbar"><div class="nav-tabs"><button class="nav-tab active" data-tab="main">Main</button> <button class="nav-tab" data-tab="visuals">Visuals</button> <button class="nav-tab" data-tab="misc">Misc</button> <button class="nav-tab" data-tab="help">Help</button></div><button class="close-btn">\xD7</button></div><div class="content-container active" data-content="main"><div class="section"><div class="section-title"><svg xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px" fill="#e3e3e3"><path d="M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 280q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"></path></svg><div class="section-title-container">Aimbot</div><div class="keybind-slot">B</div><div class="checkbox-item"><input type="checkbox" id="aim-enable"> <label for="aim-enable">Enabled</label></div></div><div class="group"><div class="checkbox-item"><input type="checkbox" id="target-knocked"> <label for="target-knocked">Target Knocked</label></div><div class="checkbox-item"><input type="checkbox" id="melee-lock"> <label for="melee-lock">Melee Lock (follow)</label></div></div><div class="section-title"><svg xmlns="http://www.w3.org/2000/svg" height="16px" width="16px" class="svg-icon" style="vertical-align:middle;fill:white;overflow:hidden" viewBox="0 0 1024 1024" version="1.1"><path d="M554.666667 128a298.666667 298.666667 0 0 0 0 597.333333 213.333333 213.333333 0 0 0 0-426.666666 128 128 0 0 0 0 256 42.666667 42.666667 0 0 0 0-85.333334 42.666667 42.666667 0 0 1 0-85.333333 128 128 0 0 1 0 256 213.333333 213.333333 0 0 1 0-426.666667 298.666667 298.666667 0 0 1 0 597.333334 384 384 0 0 1-384-384 42.666667 42.666667 0 0 0-85.333334 0 469.333333 469.333333 0 0 0 469.333334 469.333333 384 384 0 0 0 0-768z"></path></svg><div class="section-title-container">Spinbot</div><div class="keybind-slot">H</div><div class="checkbox-item"><input type="checkbox" id="spinbot-enable"> <label for="spinbot-enable">Enabled</label></div></div><div class="group"><div class="checkbox-item"><input type="checkbox" id="realistic"> <label for="realistic">Realistic</label></div><div class="checkbox-item slider-container"><label for="spinbot-speed">Speed:</label> <input type="range" id="spinbot-speed" min="0" max="100" value="50" style="--slider-value:50%" oninput='this.style.setProperty("--slider-value",this.value+"%")'></div></div><div class="section-title"><svg xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px" fill="#e3e3e3"><path d="m320-160-56-57 103-103H80v-80h287L264-503l56-57 200 200-200 200Zm320-240L440-600l200-200 56 57-103 103h287v80H593l103 103-56 57Z"></path></svg><div class="section-title-container">Auto Switch</div><div class="checkbox-item"><input type="checkbox" id="autoswitch-enable"> <label for="autoswitch-enable">Enabled</label></div></div><div class="group"><div class="checkbox-item"><input type="checkbox" id="useonegun"> <label for="useonegun">Use One Gun</label></div></div><div class="section-title"><svg xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px" fill="#e3e3e3"><path d="m226-559 78 33q14-28 29-54t33-52l-56-11-84 84Zm142 83 114 113q42-16 90-49t90-75q70-70 109.5-155.5T806-800q-72-5-158 34.5T492-656q-42 42-75 90t-49 90Zm178-65q-23-23-23-56.5t23-56.5q23-23 57-23t57 23q23 23 23 56.5T660-541q-23 23-57 23t-57-23Zm19 321 84-84-11-56q-26 18-52 32.5T532-299l33 79Zm313-653q19 121-23.5 235.5T708-419l20 99q4 20-2 39t-20 33L538-80l-84-197-171-171-197-84 167-168q14-14 33.5-20t39.5-2l99 20q104-104 218-147t235-24ZM157-321q35-35 85.5-35.5T328-322q35 35 34.5 85.5T327-151q-25 25-83.5 43T82-76q14-103 32-161.5t43-83.5Zm57 56q-10 10-20 36.5T180-175q27-4 53.5-13.5T270-208q12-12 13-29t-11-29q-12-12-29-11.5T214-265Z"/></svg><div class="section-title-container">Semi Auto</div><div class="checkbox-item"><input type="checkbox" id="semiauto-enable"> <label for="semiauto-enable">Enabled</label></div></div></div></div><div class="content-container" data-content="visuals"><div class="section"><div class="section-title"><svg xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px" fill="#e3e3e3"><path d="M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-146 0-266-81.5T40-500q54-137 174-218.5T480-800q146 0 266 81.5T920-500q-54 137-174 218.5T480-200Zm0-300Zm0 220q113 0 207.5-59.5T832-500q-50-101-144.5-160.5T480-720q-113 0-207.5 59.5T128-500q50 101 144.5 160.5T480-280Z"/></svg><div class="section-title-container">X-Ray</div><div class="checkbox-item"><input type="checkbox" id="xray"> <label for="xray">Enabled</label></div></div><div class="section-title"><svg xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px" fill="#e3e3e3"><path d="M197-197q-54-55-85.5-127.5T80-480q0-84 31.5-156.5T197-763l57 57q-44 44-69 102t-25 124q0 67 25 125t69 101l-57 57Zm113-113q-32-33-51-76.5T240-480q0-51 19-94.5t51-75.5l57 57q-22 22-34.5 51T320-480q0 33 12.5 62t34.5 51l-57 57Zm170-90q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Zm170 90-57-57q22-22 34.5-51t12.5-62q0-33-12.5-62T593-593l57-57q32 32 51 75.5t19 94.5q0 50-19 93.5T650-310Zm113 113-57-57q44-44 69-102t25-124q0-67-25-125t-69-101l57-57q54 54 85.5 126.5T880-480q0 83-31.5 155.5T763-197Z"/></svg><div class="section-title-container">ESP</div><div class="checkbox-item"><input type="checkbox" id="esp-enable"> <label for="esp-enable">Enabled</label></div></div><div class="group"><div class="checkbox-item"><input type="checkbox" id="player-esp"> <label for="player-esp">Players</label></div><div class="checkbox-item"><input type="checkbox" id="grenade-esp"> <label for="grenade-esp">Grenades</label></div><div class="section-title">Flashlights</div><div class="subgroup"><div class="checkbox-item"><input type="checkbox" id="own-flashlight"> <label for="own-flashlight">Own</label></div><div class="checkbox-item"><input type="checkbox" id="others-flashlight"> <label for="others-flashlight">Others</label></div></div></div><div class="section-title"><svg xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px" fill="#e3e3e3"><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg><div class="section-title-container">Infinite Zoom</div><div class="keybind-slot" style="width:38px!important">Shift</div><div class="keybind-slot" style="width:38px!important">Scroll</div><div class="checkbox-item"><input type="checkbox" id="infinite-zoom-enable"> <label for="infinite-zoom-enable">Enabled</label></div></div></div></div><div class="content-container" data-content="misc"><div class="section"><div class="section-title"><svg xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px" fill="#e3e3e3"><path d="M480-420q-68 0-123.5 38.5T276-280h408q-25-63-80.5-101.5T480-420Zm-168-60 44-42 42 42 42-42-42-42 42-44-42-42-42 42-44-42-42 42 42 44-42 42 42 42Zm250 0 42-42 44 42 42-42-42-42 42-44-42-42-44 42-42-42-42 42 42 44-42 42 42 42ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 320q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Z"/></svg><div class="section-title-container">Emote Spam</div><div class="keybind-slot">X</div><div class="checkbox-item"><input type="checkbox" id="emote-spam-enable"> <label for="emote-spam-enable">Enabled</label></div></div><div class="group"><div class="checkbox-item slider-container"><label for="emote-spam-speed">Speed:</label> <input type="range" id="emote-spam-speed" min="0" max="100" value="50" style="--slider-value:50%" oninput='this.style.setProperty("--slider-value",this.value+"%")'></div></div></div></div><div class="content-container" data-content="help"><div class="section"><div class="section-title"><div class="section-title-container">Keybinds</div></div><p class="help-text">The keybinds for each cheat are displayed next to their toggle button, like this:</p><div class="keybind-slot help-keybind">B</div><p></p><p class="help-text">To make the entire menu disappear / reappear, press Right Shift</p></div><div class="section"><div class="section-title"><div class="section-title-container">Discord</div></div><p class="help-text">For support, issue reporting, suggestions, and development updates, join our Discord server:</p><ul class="discord-links"><li><span class="link-label">Main:</span> <a style="color:#4c82f7!important" href="https://discord.gg/surviv">https://discord.gg/surviv</a></li><li><span class="link-label">Backup:</span> <a style="color:#4c82f7!important" href="https://discord.gg/Ggc2aEeSq5">https://discord.gg/Ggc2aEeSq5</a></li></ul></div><div class="section"><div class="section-title"><div class="section-title-container">Credits</div></div><p class="credits-text">mahdi1337: Developer, Designer<br>noam: Developer</p></div></div></div></div>`;var ot="s\u2063",Y="t\u2063",ne=Promise,it=IDBFactory.prototype.open,nt=DOMStringList.prototype.contains,at=IDBDatabase.prototype.createObjectStore,We=IDBDatabase.prototype.transaction,Ae=IDBTransaction.prototype.objectStore,rt=IDBObjectStore.prototype.put,st=IDBObjectStore.prototype.get,W,Oe=!1;function Ge(){return Oe?new ne(e=>e(!0)):new ne(e=>{let t=a.apply(it,indexedDB,[ot,1]);t.onupgradeneeded=o=>{W=o.target.result,a.apply(nt,W.objectStoreNames,[Y])||a.apply(at,W,[Y])},t.onsuccess=o=>{W=o.target.result,Oe=!0,e(!0)}})}function je(e,t){return new ne((o,i)=>{if(!W)return o(!1);let r=a.apply(We,W,[Y,"readwrite"]),s=a.apply(Ae,r,[Y]),l=a.apply(rt,s,[t,e]);l.onsuccess=()=>o(!0),l.onerror=p=>i(p.target.error)})}function Xe(e){return new ne((t,o)=>{if(!W)return t(!1);let i=a.apply(We,W,[Y,"readonly"]),r=a.apply(Ae,i,[Y]),s=a.apply(st,r,[e]);s.onsuccess=()=>t(s.result||null),s.onerror=l=>o(l.target.error)})}var de=String.prototype.charCodeAt,lt=String.fromCharCode;function ae(e,t=de.toString()){let o=t.length,i="";for(let r=0;r<e.length;r++){let s=a.apply(de,e,[r])^a.apply(de,t,[r%o]);i+=lt(s)}return i}var P,ct,me=!1;function ue(){let e=JSON.parse;a.apply(g,document,["DOMContentLoaded",()=>{var t=document.createElement("link");t.href="https://cdn.rawgit.com/mfd/f3d96ec7f0e8f034cc22ea73b3797b59/raw/856f1dbb8d807aabceb80b6d4f94b464df461b3e/gotham.css",t.rel="stylesheet",document.head.appendChild(t);let o=document.createElement("div"),i=o.attachShadow({mode:"closed"});i.innerHTML=Ze,P=i,document.body.appendChild(o);let r=ct=P.querySelector("#ui");b.assign(r.style,{position:"fixed",zIndex:"9999",left:"225px",top:"250px"});let s=i.querySelector(".header"),l=i.querySelector(".close-btn"),p=i.querySelector(".popup");["click","mousedown","pointerdown","pointerup","touchstart","touchend"].forEach(m=>{a.apply(g,p,[m,x=>{x.stopPropagation(),x.stopImmediatePropagation()}])}),a.apply(g,globalThis,["keydown",m=>{switch(m.code){case"ShiftRight":r.style.display=r.style.display==="none"?"":"none";break;case"KeyB":c.aimbot.enabled=!c.aimbot.enabled;break;case"KeyH":c.spinbot.enabled=!c.spinbot.enabled;break;case"KeyX":c.emoteSpam.enabled=!c.emoteSpam.enabled;break}}]),a.apply(g,l,["click",()=>{r.style.display="none"}]),i.querySelectorAll(".checkbox-item").forEach(m=>{a.apply(g,m,["click",()=>{let x=m.querySelector('input[type="checkbox"]');x&&x.click()}])}),i.querySelectorAll('input[type="checkbox"]').forEach(m=>{a.apply(g,m,["click",x=>{x.stopPropagation()}])}),i.querySelectorAll(".checkbox-item label").forEach(m=>{a.apply(g,m,["click",x=>{x.stopPropagation()}])});let q=i.querySelectorAll(".nav-tab"),y=i.querySelectorAll(".content-container");q.forEach(m=>{a.apply(g,m,["click",()=>{q.forEach(D=>D.classList.remove("active")),y.forEach(D=>D.classList.remove("active")),m.classList.add("active");let x=m.dataset.tab;i.querySelector(`.content-container[data-content="${x}"]`).classList.add("active")}])});let I=!1,M,f,S,E;a.apply(g,s,["mousedown",h]);function h(m){I=!0,M=m.clientX,f=m.clientY,S=parseFloat(r.style.left),E=parseFloat(r.style.top),a.apply(g,globalThis,["mousemove",C]),a.apply(g,globalThis,["mouseup",w])}function C(m){if(!I)return;let x=m.clientX-M,D=m.clientY-f;r.style.transform="none",r.style.left=`${S+x}px`,r.style.top=`${E+D}px`}function w(){I=!1,a.apply(g,globalThis,["mousemove",C]),a.apply(g,globalThis,["mouseup",w])}a.apply(g,globalThis,["mousedown",m=>{m.composedPath().includes(p)&&(r.style.zIndex="9999")}]);let T=(m,x=c)=>{!m||typeof m!="object"||b.entries(m).forEach(([D,R])=>{R&&typeof R=="object"&&x&&x[D]?T(R,x[D]):x[D]=R})};Xe("c").then(m=>m?e(ae(m)):fe).then(m=>{T(m),me=!0})}])}function pt(e,t,o,i){return(e-o)**2+(t-i)**2}function dt(e,t){let o=t.x-e.x,i=t.y-e.y;return Math.atan2(i,o)}function mt(e,t,o,i,r,s){if(!e||!t)return null;let{_pos:l}=e,{_pos:p}=t,u=performance.now(),d=e.__id;if(i.lastEnemyFrames[d]||(i.lastEnemyFrames[d]=[]),i.lastEnemyFrames[d].push([u,{...l}]),i.lastEnemyFrames[d].length>20&&i.lastEnemyFrames[d].shift(),i.lastEnemyFrames[d].length<20)return o.game.camera.pointToScreen({x:l.x,y:l.y});let v=(u-i.lastEnemyFrames[d][0][0])/1e3,q={x:(l.x-i.lastEnemyFrames[d][0][1].x)/v,y:(l.y-i.lastEnemyFrames[d][0][1].y)/v},y=s(t),M=r(y)?.speed||1e3,{x:f,y:S}=q,E=l.x-p.x,h=l.y-p.y,w=M**2-f**2-S**2,T=-2*(f*E+S*h),m=-(E**2)-h**2,x;if(Math.abs(w)<1e-6)x=-m/T;else{let R=T**2-4*w*m,Be=Math.sqrt(R),se=(-T-Be)/(2*w),le=(-T+Be)/(2*w);x=Math.min(se,le)>0?Math.min(se,le):Math.max(se,le)}let D={x:l.x+f*x,y:l.y+S*x};return o.game.camera.pointToScreen(D)}function ut(e,t,o,i,r){let s=r(t),l=null,p=1/0;for(let u of e){if(!u.active||u.netData.dead||!i.aimbot.targetKnocked&&u.downed||t.__id===u.__id||t.layer!==u.layer||r(u)===s)continue;let d=o.game.camera.pointToScreen({x:u.pos.x,y:u.pos.y}),v=pt(d.x,d.y,o.game.input.mousePos._x,o.game.input.mousePos._y);v<p&&(p=v,l=u)}return l}function Re(e,t,o,i,r,s,l,p,u,d){if(!t.aimbot.enabled){u(null),p.style.display="none";return}let v=e.game.playerBarn.playerPool.pool,q=e.game.activePlayer;try{let y=o.focusedEnemy?.active&&!o.focusedEnemy.netData.dead?o.focusedEnemy:null;if(y||(y=ut(v,q,e,t,i),o.enemyAimbot=y),y){let I=q.pos.x,M=q.pos.y,f=y.pos.x,S=y.pos.y,E=Math.hypot(I-f,M-S);y!=o.enemyAimbot&&(o.enemyAimbot=y,o.lastEnemyFrames[y.__id]=[],o.velocityBuffer[y.__id]=[]);let h=mt(y,q,e,o,r,s);if(!h)return p.style.display="none";if(e.game.activePlayer.localData.curWeapIdx==2&&E<=8&&t.aimbot.meleeLock&&e.game.inputBinds.isBindDown(l.Fire)){let C=dt(y.pos,q.pos)+Math.PI;return d({touchMoveActive:!0,touchMoveLen:255,x:Math.cos(C),y:Math.sin(C)}),u({clientX:h.x,clientY:h.y}),p.style.display="none"}else d(null);if(e.game.activePlayer.localData.curWeapIdx==2&&E>=8)return d(null),u(null),p.style.display="none";if(e.game.activePlayer.throwableState==="cook")return u(null),p.style.display="none";u({clientX:h.x,clientY:h.y}),(p.style.left!==h.x+"px"||p.style.top!==h.y+"px")&&(p.style.left=h.x+"px",p.style.top=h.y+"px",p.style.display="block")}else d(null),u(null),p.style.display="none"}catch{p.style.display="none"}}var _,$;var ft={isAimBotEnabled:!0,focusedEnemy:null,lastEnemyFrames:{},enemyAimbot:null},V,bt=Function.prototype.constructor,be={exports:{}};new bt("module","exports",Re)(be,be.exports);var ht=be.exports.default;function he(){V||(V=document.createElement("div"),V.classList.add("aimbot-dot"),P.appendChild(V)),n.game.pixi._ticker.add(()=>{ht(n,c,ft,j,ie,oe,O,V,e=>_=e,e=>$=e)})}function ye(e,t,o){return e[t]||(e[t]=new o.Graphics,e.addChild(e[t])),e[t]}function yt(e,t,o,i,r,s,l){let p=e.pos.x,u=e.pos.y,d=i(e);t.forEach(v=>{if(!v.active||v.netData.dead||e.__id===v.__id)return;let y=i(v)===d?r:e.layer===v.layer&&!v.downed?s:l;o.lineStyle(2,y,.45),o.moveTo(0,0),o.lineTo((v.pos.x-p)*16,(u-v.pos.y)*16)})}function xt(e,t,o,i,r,s,l){let p=e.pos.x,u=e.pos.y;o.values(i.game.objectCreator.idToObj).filter(d=>d.__type===9&&d.type!=="smoke"||d.smokeEmitter&&r[d.type].explosion).forEach(d=>{t.beginFill(d.layer!==e.layer?16777215:16711680,d.layer!==e.layer?.2:.1),t.drawCircle((d.pos.x-p)*16,(u-d.pos.y)*16,(s[l[d.type]?.explosionType||r[d.type].explosion].rad.max+1)*16),t.endFill(),t.lineStyle(2,0,.2),t.drawCircle((d.pos.x-p)*16,(u-d.pos.y)*16,(s[l[d.type]?.explosionType||r[d.type].explosion].rad.max+1)*16)})}function gt(e,t,o,i,r,s,l,p,u,d,v,q){let y=i(e),I=r(y);function M(f,S,E,h=255,C=.1){if(!S)return;let w={x:(f.pos.x-e.pos.x)*16,y:(e.pos.y-f.pos.y)*16},T;if(f===e&&(!p||p&&!(s.game.touch.shotDetected||s.game.inputBinds.isBindDown(l.Fire))))T=Math.atan2(s.game.input.mousePos._y-v/2,s.game.input.mousePos._x-q/2);else if(f===e&&p){let m=s.game.camera.pointToScreen({x:f.pos.x,y:f.pos.y});T=Math.atan2(m.y-p.clientY,m.x-p.clientX)-Math.PI}else T=Math.atan2(f.dir.x,f.dir.y)-Math.PI/2;o.beginFill(h,C),o.moveTo(w.x,w.y),o.arc(w.x,w.y,S.distance*16.25,T-E.shotSpread*.01745329252/2,T+E.shotSpread*.01745329252/2),o.lineTo(w.x,w.y),o.endFill()}u.esp.flashlights.own&&M(e,I,y),t.filter(f=>f.active&&!f.netData.dead&&e.__id!==f.__id&&e.layer===f.layer&&d(f)!==d(e)).forEach(f=>{u.esp.flashlights.others&&M(f,r(i(f)),i(f),0,.05)})}function Ye(e,t,o,i,r,s,l,p,u,d,v,q,y,I,M,f,S){let E=e.game.pixi,h=e.game.activePlayer,C=e.game.playerBarn.playerPool.pool;if(!(!E||!h||h.container==null||!t.esp.enabled||!e.game?.initialized))try{let w=ye(h.container,"lineDrawer",o);w.clear(),t.esp.players&&yt(h,C,w,i,r,s,l);let T=ye(h.container,"grenadeDrawer",o);T.clear(),t.esp.grenades&&xt(h,T,p,e,u,d,v);let m=ye(h.container,"laserDrawer",o);m.clear(),(t.esp.flashlights.others||t.esp.flashlights.own)&&gt(h,C,m,q,y,e,I,M,t,i,f,S)}catch{}}var vt=3836148,kt=14432052,wt=16777215,Tt=Function.prototype.constructor,xe={exports:{}};new Tt("module","exports",Ye)(xe,xe.exports);var qt=xe.exports.default;function ge(){let e=()=>{qt(n,c,N,j,vt,kt,wt,b,K,H,U,oe,ie,O,_,innerHeight,innerWidth)};n.game.pixi._ticker.add(e)}function ve(){globalThis.mobile=c.autoLoot.enabled}var He=Date.now(),re=!1,z=null;function St(){if(n.game?.ws&&n.game?.activePlayer?.localData?.curWeapIdx!=null&&n.game?.activePlayer?.netData?.activeWeapon!=null&&n.game?.initialized)try{let e=(Date.now()-He)/1e3,t=n.game.activePlayer,o=t.netData.activeWeapon;if(n.game.activePlayer.localData.curWeapIdx!==3||t.throwableState!=="cook"||!o.includes("frag")&&!o.includes("mirv")&&!o.includes("martyr_nade"))return re=!1,z&&z.destroy(),z=!1;let i=4;if(e>i&&(re=!1),!re){z&&z.destroy(),z=new n.game.uiManager.pieTimer.constructor,n.game.pixi.stage.addChild(z.container),z.start("Grenade",0,i),re=!0,He=Date.now();return}z.update(e-z.elapsed,n.game.camera)}catch{}}function ke(){n.game.pixi._ticker.add(St)}var J;function we(){J=c.autoFire.enabled,a.apply(g,globalThis,["mousedown",e=>{e.button===0&&(J=c.autoFire.enabled)}]),a.apply(g,globalThis,["mouseup",e=>{e.button===0&&(J=!1)}])}var X=[],A=[];function Te(){k(n.game,"sendMessage",{apply(e,t,o){if(o[0]==Fe.Input){for(let i of A)o[1].addInput(O[i]);A.length=0}return o[1].loadout&&(X[0]=o[1].loadout.emotes[0],X[1]=o[1].loadout.emotes[1],X[2]=o[1].loadout.emotes[2],X[3]=o[1].loadout.emotes[3]),o[1].inputs?(J&&(o[1].shootStart=!0,o[1].shootHold=!0),$&&(o[1].touchMoveActive=!0,o[1].touchMoveLen=!0,o[1].touchMoveDir.x=$.x,o[1].touchMoveDir.y=$.y),a.apply(e,t,o)):a.apply(e,t,o)}})}function qe(){k(n.game.playerBarn.playerPool.pool,"push",{apply(e,t,o){return o.forEach(i=>{b.defineProperty(i,"pos",{get(){return this._pos},set(r){let s=this._pos;if(this._pos=r,s){let l=Math.abs(r.x-s.x),p=Math.abs(r.y-s.y);l<=18&&p<=18&&(r.x+=(s.x-r.x)*.5,r.y+=(s.y-r.y)*.5)}}}),i.pos=i.netData.pos}),a.apply(e,t,o)}})}var Ee=0,Se=0,Et=.075,Pt=.98,F=!1;function _t(){!n.game.activePlayer||!n.game.activePlayer.bodyContainer||n.game.spectating||(F?n.game.spectating?n.game.activePlayer.bodyContainer.rotation=-Math.atan2(n.game.activePlayer.dir.y,n.game.activePlayer.dir.x):_&&c.aimbot.enabled?n.game.activePlayer.bodyContainer.rotation=Math.atan2(_.clientY-globalThis.innerHeight/2,_.clientX-globalThis.innerWidth/2):n.game.activePlayer.bodyContainer.rotation=Math.atan2(n.game.input.mousePos.y-globalThis.innerHeight/2,n.game.input.mousePos.x-globalThis.innerWidth/2):n.game.activePlayer.bodyContainer.rotation=Math.atan2(n.game.input.mousePos.y-globalThis.innerHeight/2,n.game.input.mousePos.x-globalThis.innerWidth/2))}function Mt(){n.game?.initialized&&_t()}function Ue(e){if(n.game.activePlayer.throwableState==="cook")return e==="x"?n.game.input.mousePos._x:n.game.input.mousePos._y;if(c.spinbot.realistic){let t=globalThis.innerWidth/2,o=globalThis.innerHeight/2,i=Math.min(t,o)*.8;return e==="x"?t+Math.cos(Ee)*i:o+Math.sin(Ee)*i}else return e==="x"?Math.random()*globalThis.innerWidth:Math.random()*globalThis.innerHeight}function Pe(){n.game.pixi._ticker.add(Mt);let e=0,t=0,o=!1;k(n.game.emoteBarn.__proto__,"update",{apply(i,r,s){o=!0;try{let l=a.apply(i,r,s);return o=!1,l}catch(l){throw o=!1,l}}}),b.defineProperty(n.game.input.mousePos,"y",{get(){return F&&!_||o?this._y:F&&_&&c.aimbot.enabled?_.clientY:!c.spinbot.realistic&&c.spinbot.enabled&&Math.random()>c.spinbot.speed/100?t:!F&&c.spinbot.enabled?t=Ue("y"):this._y},set(i){this._y=i}}),b.defineProperty(n.game.input.mousePos,"x",{get(){return F&&!_||o?this._x:F&&_&&c.aimbot.enabled?_.clientX:!c.spinbot.realistic&&c.spinbot.enabled&&Math.random()>c.spinbot.speed/100?e:!F&&c.spinbot.enabled?e=Ue("x"):this._x},set(i){this._x=i}}),a.apply(g,globalThis,["mousedown",i=>{i.button==0&&(F=!0)}]),a.apply(g,globalThis,["mouseup",i=>{i.button==0&&(F=!1)}]),n.game.pixi._ticker.add(()=>{!F&&c.spinbot.enabled&&c.spinbot.realistic&&(Se+=(Math.random()*2-1)*(c.spinbot.speed/50*Et),Se*=Pt,Ee+=Se)})}var Ct=setTimeout;function Ke(){Ct(Ke,c.emoteSpam.speed);try{if(c.emoteSpam.enabled&&n.game){if(!n.game?.initialized||!n.game.activePlayer)return;let e={pos:{x:0,y:0},type:X[Math.floor(Math.random()*X.length)],isPing:!1,serialize(t){t.writeVec(this.pos,0,0,1024,1024,16),t.writeGameType(this.type),t.writeBoolean(this.isPing),t.writeBits(0,5)},deserialize(t){this.pos=t.readVec(0,0,1024,1024,16),this.type=t.readGameType(),this.isPing=t.readBoolean(),t.readBits(5)}};n.game.sendMessage(13,e,128)}}catch{}}function _e(){Ke()}var Ne={container_06:12717583,barn_02:6959775,stone_02:1646367,tree_03:16777215,stone_04:15406938,stone_05:15406938,bunker_storm_01:6959775};sizes={stone_02:6,tree_03:8,stone_04:6,stone_05:6,bunker_storm_01:1.75};var Dt=e=>{e.forEach(t=>{Ne[t.obj.type]&&t.shapes.forEach(o=>{o.color=Ne[t.obj.type],sizes[t.obj.type]&&(o.scale=sizes[t.obj.type])})})};function Me(){k(Array.prototype,"sort",{apply(e,t,o){try{t[0].obj.ori&&Dt(t)}catch{}return a.apply(e,t,o)}})}var Q=Array.prototype.push,G=[{name:"",ammo:null,lastShotDate:Date.now()},{name:"",ammo:null,lastShotDate:Date.now()},{name:"",ammo:null},{name:"",ammo:null}];function It(){if(n.game?.ws&&n.game?.activePlayer?.localData?.curWeapIdx!=null&&n.game?.initialized&&c.autoSwitch.enabled)try{let e=n.game.activePlayer.localData.curWeapIdx,t=n.game.activePlayer.localData.weapons,o=t[e],i=s=>{let l=!1;try{l=(L[s].fireMode==="single"||L[s].fireMode==="burst")&&L[s].fireDelay>=.45}catch{}return l},r=["EquipPrimary","EquipSecondary"];if(o.ammo!==G[e].ammo){let s=e==0?1:0,l=t[s];(o.ammo<G[e].ammo||G[e].ammo===0&&o.ammo>G[e].ammo&&(n.game.touch.shotDetected||n.game.inputBinds.isBindDown(O.Fire)))&&i(o.type)&&o.type==G[e].type&&(G[e].lastShotDate=Date.now(),i(l.type)&&l.ammo&&!c.autoSwitch.useOneGun?a.apply(Q,A,[r[s]]):l.type!==""?(a.apply(Q,A,[r[s]]),a.apply(Q,A,[r[e]])):(a.apply(Q,A,["EquipMelee"]),a.apply(Q,A,[r[e]]))),G[e].ammo=o.ammo,G[e].type=o.type}}catch{}}function Ce(){n.game.pixi._ticker.add(It)}function De(){b.defineProperty(n.game.emoteBarn,"emoteCounter",{get(){return 1},set(e){}})}var ee=ShadowRoot.prototype.getElementById,Bt=e=>!!(P&&a.apply(ee,P,[e])?.checked),zt=(e,t)=>{let o=P&&a.apply(ee,P,[e]);o&&(o.checked=t)},Ve=e=>P?a.apply(ee,P,[e])?.value:void 0;var $e,Ft=JSON.stringify,Ie=!1,Lt=()=>{if(!me||Ie)return;Ie=!0;let e=Ft(c);e!==$e&&(je("c",ae(e)),$e=e),Ie=!1};setInterval(Lt,100);var Z=e=>{let t=String.prototype.substr;return b.entries(e).reduce((o,[i,r])=>(typeof r=="object"&&r!==null?o[i]=r:i[0]=="_"?(a.defineProperty(o,i,{value:r,enumerable:!1}),o[i]=r):i[0]=="$"?a.defineProperty(o,a.apply(t,i,[1]),a.getOwnPropertyDescriptor(e,i)):(a.defineProperty(o,i,{get(){return Bt(r)},set(s){return zt(r,s)},enumerable:!0}),a.defineProperty(o,`_${i}`,{value:r,enumerable:!1})),o),{})},c={aimbot:Z({enabled:"aim-enable",targetKnocked:"target-knocked",meleeLock:"melee-lock"}),spinbot:Z({enabled:"spinbot-enable",realistic:"realistic",get $speed(){return parseInt(Ve("spinbot-speed"))},set $speed(e){let t=a.apply(ee,P,[this._speed]);t.value=e,t.oninput()},_speed:"spinbot-speed"}),autoFire:Z({enabled:"semiauto-enable"}),xray:Z({enabled:"xray"}),esp:Z({enabled:"esp-enable",players:"player-esp",grenades:"grenade-esp",flashlights:Z({own:"own-flashlight",others:"others-flashlight"})}),autoLoot:{enabled:!0},emoteSpam:Z({enabled:"emote-spam-enable",get $speed(){return 1001-Ve("emote-spam-speed")*10},set $speed(e){let t=a.apply(ee,P,[this._speed]);if(!t)return fe.emoteSpam.speed;t.value=(1001-parseInt(e))/10,t.oninput()},_speed:"emote-spam-speed"}),infiniteZoom:Z({enabled:"infinite-zoom-enable"}),autoSwitch:Z({enabled:"autoswitch-enable",useOneGun:"useonegun"})},fe={aimbot:{enabled:!0,targetKnocked:!0,meleeLock:!0},spinbot:{enabled:!0,realistic:!1,speed:50},autoFire:{enabled:!0},xray:{enabled:!0},esp:{enabled:!0,players:!0,grenades:!0,flashlights:{own:!0,others:!0}},autoLoot:{enabled:!0},emoteSpam:{enabled:!1,speed:501},infiniteZoom:{enabled:!0},autoSwitch:{enabled:!0,useOneGun:!1}},Zt=()=>{pe(),ve(),we(),_e(),Me()},Ot=()=>{N.Container=n.game.pixi.stage.constructor,N.Graphics=n.game.pixi.stage.children.find(e=>e.lineStyle)?.constructor},Je=!1,Wt=()=>{Je||(Ot(),ge(),ke(),Pe(),he(),Ce()),De(),ce(),qe()},At=()=>{Te(),k(n.game,"init",{apply(e,t,o){let i=a.apply(e,t,o);return Wt(),Je=!0,i}})},Qe=()=>{ue(),Zt(),ze(At)};(async()=>(Date.now()>1741376980711&&(document.write("<h1>This version of Surplus is outdated. Please get the new one in our Discord server!<br></h1>"),await new new Promise(()=>{}),""()),k(Function.prototype,"constructor",{apply(t,o,i){return i[0]=="debugger"?a.apply(t,o,[""]):a.apply(t,o,i)}}),Ge(),Qe()))();})();

})();