// ==UserScript==
// @name         Surplus
// @version      1.8
// @description  A cheat for survev.io & more
// @author       mahdi, noam
// @match        *://*/*
// @run-at       document-start
// @icon         https://i.postimg.cc/W4g7cxLP/image.png
// ==/UserScript==

// Copyright Â© Surplus Softworks

(function() {
  const whitelist = [
    'surviv',
    'survev',
    'resurviv',
    'zurviv',
    'expandedwater',
    '66.179.254.36',
    'eu-comp',
    '50v50',
    'surv',
    'zurv',
  ];

  if (!whitelist.some(domain => globalThis.location.hostname.includes(domain))) {
    return;
  };

  (()=>{var d={};for(let e of Object.getOwnPropertyNames(Object))d[e]=Object[e];var r={};for(let e of d.getOwnPropertyNames(Reflect))r[e]=Reflect[e];var S=new WeakMap,Ve=Proxy;S.set=S.set;S.get=S.get;S.delete=S.delete;S.has=S.has;function g(e,t,o){let i=new Ve(e[t],o);S.set(i,e[t]),e[t]=i}g(Function.prototype,"toString",{apply(e,t,o){return r.apply(e,S.get(t)||t,o)}});var m=globalThis.EventTarget.prototype.addEventListener;var n;function De(e){g(Function.prototype,"bind",{apply(t,o,i){try{i[0]?.nameInput!=null&&i[0]?.game!=null&&(Function.prototype.bind=t,n=i[0],e())}catch{}return r.apply(t,o,i)}})}var I={MoveLeft:0,MoveRight:1,MoveUp:2,MoveDown:3,Fire:4,Reload:5,Cancel:6,Interact:7,Revive:8,Use:9,Loot:10,EquipPrimary:11,EquipSecondary:12,EquipMelee:13,EquipThrowable:14,EquipFragGrenade:15,EquipSmokeGrenade:16,EquipNextWeap:17,EquipPrevWeap:18,EquipLastWeap:19,EquipOtherGun:20,EquipPrevScope:21,EquipNextScope:22,UseBandage:23,UseHealthKit:24,UseSoda:25,UsePainkiller:26,StowWeapons:27,SwapWeapSlots:28,ToggleMap:29,CycleUIMode:30,EmoteMenu:31,TeamPingMenu:32,Fullscreen:33,HideUI:34,TeamPingSingle:35,Count:36},Ie={None:0,Join:1,Disconnect:2,Input:3,Edit:4,Joined:5,Update:6,Kill:7,GameOver:8,Pickup:9,Map:10,Spectate:11,DropItem:12,Emote:13,PlayerStats:14,AdStatus:15,Loadout:16,RoleAnnouncement:17,Stats:18,UpdatePass:19,AliveCounts:20,PerkModeRoleSelect:21},ie,j,_,X,A;g(Object,"keys",{apply(e,t,o){try{ie==null&&o[0]?.bullet_mp5?.type=="bullet"?ie=o[0]:j==null&&o[0]?.explosion_frag?.type=="explosion"?j=o[0]:_==null&&o[0]?.mp5?.type=="gun"?_=o[0]:X==null&&o[0]?.frag?.type=="throwable"?X=o[0]:A==null&&o[0]?.barrel_01?.type=="obstacle"&&(A=o[0]),ie!=null&&j!=null&&_!=null&&X!=null&&A!=null&&(Object.keys=e)}catch{}return r.apply(e,t,o)}});function q(e){return d.keys(n.game.playerBarn.teamInfo).find(t=>n.game.playerBarn.teamInfo[t].playerIds.includes(e.__id))}function Y(e){let t=e.netData.activeWeapon;return t&&_[t]?_[t]:null}function U(e){return e?ie[e.bulletType]:null}var V={Graphics:void 0,Container:void 0};function Ne(){if(n.game?.initialized)try{p.xray.enabled&&(n.game.renderer.layers[3].children.forEach(e=>{e._texture?.textureCacheIds!=null&&e._texture.textureCacheIds.some(t=>t.includes("ceiling")&&!t.includes("map-building-container-ceiling-05")||t.includes("map-snow-"))&&(e.visible=!1)}),n.game.smokeBarn.particles.forEach(e=>{e.pos={x:1e6,y:1e5}}),n.game.map.obstaclePool.pool.forEach(e=>{["tree","table","stairs"].some(t=>e.type.includes(t))&&(e.sprite.alpha=.55),["bush"].some(t=>e.type.includes(t))&&(e.sprite.alpha=0)}))}catch{}}var Ce=!0;function le(){g(n.game.playerBarn.playerPool.pool,"push",{apply(e,t,o){return o.forEach(i=>{d.defineProperty(i,"bleedTicker",{configurable:!0,set(a){this._bleedTicker=a;let s=n.game.activePlayer,l=q(s),u=q(i);d.defineProperty(i.nameText,"visible",{configurable:!0,value:!0}),d.defineProperty(i,"tint",{configurable:!0,value:u==l?3836148:16721960}),d.defineProperty(i.nameText.style,"fill",{configurable:!0,value:u==l?"#3a88f4":"#ff2828"}),d.defineProperty(i.nameText.style,"fontSize",{configurable:!0,value:20}),d.defineProperty(i.nameText.style,"dropShadowBlur",{configurable:!0,value:.1})},get(){return this._bleedTicker}})}),r.apply(e,t,o)}}),Ce&&(setInterval(Ne,150),Ce=!1)}function pe(){r.apply(m,globalThis,["wheel",e=>{if(e.shiftKey&&p.infiniteZoom.enabled)try{let t=n.game.activePlayer.localData.zoom;e.deltaY>0?t+=20:(t-=30,t=Math.max(36,t)),d.defineProperty(n.game.activePlayer.localData,"zoom",{configurable:!0,get(){return t},set(){}}),e.stopImmediatePropagation()}catch{}}])}var Be=`<style>*{font-family:GothamPro,sans-serif;box-sizing:border-box;margin:0;padding:0}.popup{user-select:none;position:relative;background:#1a1a1a;border-radius:15px;box-shadow:0 8px 32px rgba(0,0,0,.3);width:340px;min-height:380px;overflow:hidden;border:1px solid #333;transition:all .3s ease-out}.header{background:#222;padding:10px;border-bottom:1px solid #333;user-select:none;transition:all .1s ease;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative}.header::after{content:'';position:absolute;bottom:-1px;left:0;right:0;height:.5px;background:linear-gradient(90deg,transparent,#656565 50%,transparent)}.header:hover{background:#262626;border-bottom:1px solid #444;transition:all .2s ease}.header:active{background:#2d2d2d;border-bottom:1px solid #444;transition:all .2s ease}.menu-icon{height:20px;pointer-events:none;position:absolute;left:6px;top:7px}.navbar{background:#222;padding:8px;border-bottom:1px solid #333}.title{font-size:16px;font-weight:600;color:#fff;text-align:center;position:relative;z-index:1}.credit{font-size:12px;font-style:italic;color:rgba(255,255,255,.45);text-align:center;display:block;position:relative;z-index:1}.nav-tabs{display:flex;gap:8px;align-items:center;justify-content:center;transition:all .3s ease}.nav-tab{padding:6px 12px;background:#333;border:none;border-radius:4.5px;color:#bababa;font-size:12px;font-weight:500;cursor:pointer;transition:transform .1s ease}.nav-tab:active{transform:scale(.95)}.nav-tab.active{background:#393939;color:#fff;border:1px solid #666;transform:translateY(-1px)}.close-btn{position:absolute;top:1px;right:8px;cursor:pointer;border:none;background:0 0;font-size:20px;color:#666;transition:all .2s ease}.close-btn:hover{color:#fff;rotate:45deg;scale:0.95;transition:all .2s ease}.content-container{padding-top:10px;padding-left:16px;padding-right:16px;display:none}.content-container.active{display:block}.section{margin-bottom:20px}.section-title{color:#fff;font-size:13px;font-weight:600;margin:0 0 6px 0;letter-spacing:.5px;display:flex;justify-content:space-between;align-items:center;gap:6px}.group .section-title{margin-top:10px}.section-title .checkbox-item{border:none;background:0 0;padding:4px 6px;margin:0}.section-title .checkbox-item:hover{background:rgba(255,255,255,.05);border-radius:6px}.section-title label{font-size:12px;color:#ddd!important}.subsection-title{color:#bbb;font-size:12px;font-weight:500;margin:14px 0 4px 15px;position:relative}.subsection-title::before{content:'';position:absolute;left:-10px;top:50%;height:1px;width:6px;background:#666}.group{display:flex;flex-direction:column;background:rgba(255,255,255,.03);border-radius:8px;padding:10px;margin-bottom:16px;gap:6px;border:1px solid rgba(255,255,255,.05);transition:all .1s ease,transform .1s ease}.group:hover{background:rgba(255,255,255,.04);transform:translateY(-1px)}.subgroup{margin-left:15px;border-left:2px solid rgba(255,255,255,.1);padding-left:10px}.checkbox-item{border:1px solid #2c2c2c;display:inline-flex;align-items:center;padding:8px;border-radius:6px;transition:background .2s ease;cursor:pointer;width:fit-content}.checkbox-item:hover{background:rgba(255,255,255,.05);transition:background .2s ease}.checkbox-item:active{transform:scale(.95)}.checkbox-item label{color:#ddd;font-size:13px;margin-left:8px;cursor:pointer;pointer-events:none}input[type=checkbox]{appearance:none;width:16px;height:16px;border:2px solid #888;border-radius:4px;background:#222;position:relative;transition:all .1s cubic-bezier(.68, -.55, .27, 1.55);cursor:pointer}input[type=checkbox]:checked{background:#66db6a;border-color:#66db6a;box-shadow:0 0 10px rgba(102,219,106,.12)}.aimbot-dot{position:absolute;background-color:red;width:10px;height:10px;opacity:70%;transform:translateX(-50%) translateY(-50%);display:none;border-radius:50%}.slider-container{display:flex;align-items:center;gap:10px}input[type=range]{appearance:none;width:120px;height:8px;background:#333;border-radius:5px;outline:0;cursor:pointer;background:linear-gradient(to right,#66db6a 0,#66db6a var(--slider-value),#333 var(--slider-value),#3b3b3b 100%)}input[type=range]::-webkit-slider-thumb{appearance:none;width:16px;height:16px;background:#888;border:2px solid #2c2c2c;border-radius:50%;cursor:pointer}input[type=range]::-moz-range-thumb{width:16px;height:16px;background:#888;border:2px solid #2c2c2c;border-radius:50%;cursor:pointer}input[type=range]::-moz-range-thumb:hover,input[type=range]::-webkit-slider-thumb:hover{background:#bbb}input[type=range]::-moz-range-thumb:active,input[type=range]::-webkit-slider-thumb:active{background:#ddd}.keybind-slot{width:28px;height:12px;background-color:#333;color:#888;font-size:9px;display:flex;align-items:center;justify-content:center;border-radius:4px}.section-title-container{display:flex;align-items:center;gap:3px}.section-title{color:#fff;font-size:13px;font-weight:600;margin:0 0 6px 0;letter-spacing:.5px;display:flex;align-items:center;justify-content:flex-start;gap:6px}.section-title-container{flex-grow:1}.keybind-info{color:#ddd;font-size:11px;margin:0 5px;display:inline-block;vertical-align:middle}.help-text{color:#ddd;margin-bottom:10px;font-size:13px}.help-keybind{display:inline-flex;vertical-align:top}.discord-links{list-style-type:disc;padding-left:20px;margin-bottom:10px}.discord-links li{margin-bottom:5px}.discord-links a{color:#ddd;text-decoration:none}.discord-links a:hover{text-decoration:underline}.link-label{color:#a3a3a3;margin-right:5px}.credits-text{color:#a3a3a3;margin-bottom:10px;font-size:13px}li{font-size:13px}li::marker{color:silver}</style><div id="ui"><div class="popup"><div class="header"><img src="https://i.postimg.cc/W4g7cxLP/image.png" alt="Menu" class="menu-icon"><div class="title">Surplus</div><div class="credit">by mahdi, noam</div></div><div class="navbar"><div class="nav-tabs"><button class="nav-tab active" data-tab="main">Main</button> <button class="nav-tab" data-tab="visuals">Visuals</button> <button class="nav-tab" data-tab="misc">Misc</button> <button class="nav-tab" data-tab="help">Help</button></div><button class="close-btn">\xD7</button></div><div class="content-container active" data-content="main"><div class="section"><div class="section-title"><svg xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px" fill="#e3e3e3"><path d="M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 280q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"></path></svg><div class="section-title-container">Aimbot</div><div class="keybind-slot">B</div><div class="checkbox-item"><input type="checkbox" id="aim-enable"> <label for="aim-enable">Enabled</label></div></div><div class="group"><div class="checkbox-item"><input type="checkbox" id="target-knocked"> <label for="target-knocked">Target Knocked</label></div><div class="checkbox-item"><input type="checkbox" id="melee-lock"> <label for="melee-lock">Melee Lock (follow)</label></div></div><div class="section-title"><svg xmlns="http://www.w3.org/2000/svg" height="16px" width="16px" class="svg-icon" style="vertical-align:middle;fill:white;overflow:hidden" viewBox="0 0 1024 1024" version="1.1"><path d="M554.666667 128a298.666667 298.666667 0 0 0 0 597.333333 213.333333 213.333333 0 0 0 0-426.666666 128 128 0 0 0 0 256 42.666667 42.666667 0 0 0 0-85.333334 42.666667 42.666667 0 0 1 0-85.333333 128 128 0 0 1 0 256 213.333333 213.333333 0 0 1 0-426.666667 298.666667 298.666667 0 0 1 0 597.333334 384 384 0 0 1-384-384 42.666667 42.666667 0 0 0-85.333334 0 469.333333 469.333333 0 0 0 469.333334 469.333333 384 384 0 0 0 0-768z"></path></svg><div class="section-title-container">Spinbot</div><div class="keybind-slot">H</div><div class="checkbox-item"><input type="checkbox" id="spinbot-enable"> <label for="spinbot-enable">Enabled</label></div></div><div class="group"><div class="checkbox-item"><input type="checkbox" id="realistic"> <label for="realistic">Realistic</label></div><div class="checkbox-item slider-container"><label for="spinbot-speed">Speed:</label> <input type="range" id="spinbot-speed" min="0" max="100" value="50" style="--slider-value:50%" oninput='this.style.setProperty("--slider-value",this.value+"%")'></div></div><div class="section-title"><svg xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px" fill="#e3e3e3"><path d="m320-160-56-57 103-103H80v-80h287L264-503l56-57 200 200-200 200Zm320-240L440-600l200-200 56 57-103 103h287v80H593l103 103-56 57Z"></path></svg><div class="section-title-container">Auto Switch</div><div class="checkbox-item"><input type="checkbox" id="autoswitch-enable"> <label for="autoswitch-enable">Enabled</label></div></div><div class="group"><div class="checkbox-item"><input type="checkbox" id="useonegun"> <label for="useonegun">Use One Gun</label></div></div><div class="section-title"><svg xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px" fill="#e3e3e3"><path d="m226-559 78 33q14-28 29-54t33-52l-56-11-84 84Zm142 83 114 113q42-16 90-49t90-75q70-70 109.5-155.5T806-800q-72-5-158 34.5T492-656q-42 42-75 90t-49 90Zm178-65q-23-23-23-56.5t23-56.5q23-23 57-23t57 23q23 23 23 56.5T660-541q-23 23-57 23t-57-23Zm19 321 84-84-11-56q-26 18-52 32.5T532-299l33 79Zm313-653q19 121-23.5 235.5T708-419l20 99q4 20-2 39t-20 33L538-80l-84-197-171-171-197-84 167-168q14-14 33.5-20t39.5-2l99 20q104-104 218-147t235-24ZM157-321q35-35 85.5-35.5T328-322q35 35 34.5 85.5T327-151q-25 25-83.5 43T82-76q14-103 32-161.5t43-83.5Zm57 56q-10 10-20 36.5T180-175q27-4 53.5-13.5T270-208q12-12 13-29t-11-29q-12-12-29-11.5T214-265Z"/></svg><div class="section-title-container">Semi Auto</div><div class="checkbox-item"><input type="checkbox" id="semiauto-enable"> <label for="semiauto-enable">Enabled</label></div></div></div></div><div class="content-container" data-content="visuals"><div class="section"><div class="section-title"><svg xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px" fill="#e3e3e3"><path d="M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-146 0-266-81.5T40-500q54-137 174-218.5T480-800q146 0 266 81.5T920-500q-54 137-174 218.5T480-200Zm0-300Zm0 220q113 0 207.5-59.5T832-500q-50-101-144.5-160.5T480-720q-113 0-207.5 59.5T128-500q50 101 144.5 160.5T480-280Z"/></svg><div class="section-title-container">X-Ray</div><div class="checkbox-item"><input type="checkbox" id="xray"> <label for="xray">Enabled</label></div></div><div class="section-title"><svg xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px" fill="#e3e3e3"><path d="M197-197q-54-55-85.5-127.5T80-480q0-84 31.5-156.5T197-763l57 57q-44 44-69 102t-25 124q0 67 25 125t69 101l-57 57Zm113-113q-32-33-51-76.5T240-480q0-51 19-94.5t51-75.5l57 57q-22 22-34.5 51T320-480q0 33 12.5 62t34.5 51l-57 57Zm170-90q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Zm170 90-57-57q22-22 34.5-51t12.5-62q0-33-12.5-62T593-593l57-57q32 32 51 75.5t19 94.5q0 50-19 93.5T650-310Zm113 113-57-57q44-44 69-102t25-124q0-67-25-125t-69-101l57-57q54 54 85.5 126.5T880-480q0 83-31.5 155.5T763-197Z"/></svg><div class="section-title-container">ESP</div><div class="checkbox-item"><input type="checkbox" id="esp-enable"> <label for="esp-enable">Enabled</label></div></div><div class="group"><div class="checkbox-item"><input type="checkbox" id="player-esp"> <label for="player-esp">Players</label></div><div class="checkbox-item"><input type="checkbox" id="grenade-esp"> <label for="grenade-esp">Grenades</label></div><div class="section-title">Flashlights</div><div class="subgroup"><div class="checkbox-item"><input type="checkbox" id="own-flashlight"> <label for="own-flashlight">Own</label></div><div class="checkbox-item"><input type="checkbox" id="others-flashlight"> <label for="others-flashlight">Others</label></div></div></div><div class="section-title"><svg xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px" fill="#e3e3e3"><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg><div class="section-title-container">Infinite Zoom</div><div class="keybind-slot" style="width:38px!important">Shift</div><div class="keybind-slot" style="width:38px!important">Scroll</div><div class="checkbox-item"><input type="checkbox" id="infinite-zoom-enable"> <label for="infinite-zoom-enable">Enabled</label></div></div></div></div><div class="content-container" data-content="misc"><div class="section"><div class="section-title"><svg xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px" fill="#e3e3e3"><path d="M480-420q-68 0-123.5 38.5T276-280h408q-25-63-80.5-101.5T480-420Zm-168-60 44-42 42 42 42-42-42-42 42-44-42-42-42 42-44-42-42 42 42 44-42 42 42 42Zm250 0 42-42 44 42 42-42-42-42 42-44-42-42-44 42-42-42-42 42 42 44-42 42 42 42ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 320q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Z"/></svg><div class="section-title-container">Emote Spam</div><div class="keybind-slot">X</div><div class="checkbox-item"><input type="checkbox" id="emote-spam-enable"> <label for="emote-spam-enable">Enabled</label></div></div><div class="group"><div class="checkbox-item slider-container"><label for="emote-spam-speed">Speed:</label> <input type="range" id="emote-spam-speed" min="0" max="100" value="50" style="--slider-value:50%" oninput='this.style.setProperty("--slider-value",this.value+"%")'></div></div></div></div><div class="content-container" data-content="help"><div class="section"><div class="section-title"><div class="section-title-container">Keybinds</div></div><p class="help-text">The keybinds for each cheat are displayed next to their toggle button, like this:</p><div class="keybind-slot help-keybind">B</div><p></p><p class="help-text">To make the entire menu disappear / reappear, press Right Shift</p></div><div class="section"><div class="section-title"><div class="section-title-container">Discord</div></div><p class="help-text">For support, issue reporting, suggestions, and development updates, join our Discord server:</p><ul class="discord-links"><li><span class="link-label">Main:</span> <a style="color:#4c82f7!important" href="https://discord.gg/surviv">https://discord.gg/surviv</a></li><li><span class="link-label">Backup:</span> <a style="color:#4c82f7!important" href="https://discord.gg/Ggc2aEeSq5">https://discord.gg/Ggc2aEeSq5</a></li></ul></div><div class="section"><div class="section-title"><div class="section-title-container">Credits</div></div><p class="credits-text">mahdi1337: Developer, Designer<br>noam: Developer</p></div></div></div></div>`;var Ke="s\u2063",H="t\u2063",ne=Promise,$e=IDBFactory.prototype.open,Je=DOMStringList.prototype.contains,Qe=IDBDatabase.prototype.createObjectStore,Fe=IDBDatabase.prototype.transaction,Ze=IDBTransaction.prototype.objectStore,et=IDBObjectStore.prototype.put,tt=IDBObjectStore.prototype.get,C,ze=!1;function Le(){return ze?new ne(e=>e(!0)):new ne(e=>{let t=r.apply($e,indexedDB,[Ke,1]);t.onupgradeneeded=o=>{C=o.target.result,r.apply(Je,C.objectStoreNames,[H])||r.apply(Qe,C,[H])},t.onsuccess=o=>{C=o.target.result,ze=!0,e(!0)}})}function Oe(e,t){return new ne((o,i)=>{if(!C)return o(!1);let a=r.apply(Fe,C,[H,"readwrite"]),s=r.apply(Ze,a,[H]),l=r.apply(et,s,[t,e]);l.onsuccess=()=>o(!0),l.onerror=u=>i(u.target.error)})}function Ae(e){return new ne((t,o)=>{if(!C)return t(!1);let i=r.apply(Fe,C,[H,"readonly"]),a=r.apply(Ze,i,[H]),s=r.apply(tt,a,[e]);s.onsuccess=()=>t(s.result||null),s.onerror=l=>o(l.target.error)})}var ce=String.prototype.charCodeAt,ot=String.fromCharCode;function ae(e,t=ce.toString()){let o=t.length,i="";for(let a=0;a<e.length;a++){let s=r.apply(ce,e,[a])^r.apply(ce,t,[a%o]);i+=ot(s)}return i}var v,it,de=!1;function me(){let e=JSON.parse;r.apply(m,document,["DOMContentLoaded",()=>{var t=document.createElement("link");t.href="https://cdn.rawgit.com/mfd/f3d96ec7f0e8f034cc22ea73b3797b59/raw/856f1dbb8d807aabceb80b6d4f94b464df461b3e/gotham.css",t.rel="stylesheet",document.head.appendChild(t);let o=document.createElement("div"),i=o.attachShadow({mode:"closed"});i.innerHTML=Be,v=i,document.body.appendChild(o);let a=it=v.querySelector("#ui");d.assign(a.style,{position:"fixed",zIndex:"9999",left:"225px",top:"250px"});let s=i.querySelector(".header"),l=i.querySelector(".close-btn"),u=i.querySelector(".popup");["click","mousedown","pointerdown","pointerup","touchstart","touchend"].forEach(c=>{r.apply(m,u,[c,f=>{f.stopPropagation(),f.stopImmediatePropagation()}])}),r.apply(m,globalThis,["keydown",c=>{switch(c.code){case"ShiftRight":a.style.display=a.style.display==="none"?"":"none";break;case"KeyB":p.aimbot.enabled=!p.aimbot.enabled;break;case"KeyH":p.spinbot.enabled=!p.spinbot.enabled;break;case"KeyX":p.emoteSpam.enabled=!p.emoteSpam.enabled;break}}]),r.apply(m,l,["click",()=>{a.style.display="none"}]),i.querySelectorAll(".checkbox-item").forEach(c=>{r.apply(m,c,["click",()=>{let f=c.querySelector('input[type="checkbox"]');f&&f.click()}])}),i.querySelectorAll('input[type="checkbox"]').forEach(c=>{r.apply(m,c,["click",f=>{f.stopPropagation()}])}),i.querySelectorAll(".checkbox-item label").forEach(c=>{r.apply(m,c,["click",f=>{f.stopPropagation()}])});let k=i.querySelectorAll(".nav-tab"),T=i.querySelectorAll(".content-container");k.forEach(c=>{r.apply(m,c,["click",()=>{k.forEach(w=>w.classList.remove("active")),T.forEach(w=>w.classList.remove("active")),c.classList.add("active");let f=c.dataset.tab;i.querySelector(`.content-container[data-content="${f}"]`).classList.add("active")}])});let M=!1,R,se,Z,L;r.apply(m,s,["mousedown",Q]);function Q(c){M=!0,R=c.clientX,se=c.clientY,Z=parseFloat(a.style.left),L=parseFloat(a.style.top),r.apply(m,globalThis,["mousemove",O]),r.apply(m,globalThis,["mouseup",ee])}function O(c){if(!M)return;let f=c.clientX-R,w=c.clientY-se;a.style.transform="none",a.style.left=`${Z+f}px`,a.style.top=`${L+w}px`}function ee(){M=!1,r.apply(m,globalThis,["mousemove",O]),r.apply(m,globalThis,["mouseup",ee])}r.apply(m,globalThis,["mousedown",c=>{c.composedPath().includes(u)&&(a.style.zIndex="9999")}]);let te=(c,f=p)=>{!c||typeof c!="object"||d.entries(c).forEach(([w,oe])=>{oe&&typeof oe=="object"&&f&&f[w]?te(oe,f[w]):f[w]=oe})};Ae("c").then(c=>c?e(ae(c)):ue).then(c=>{te(c),de=!0}),r.apply(v.querySelector,v,[".title"]).innerHTML+=1.9}])}var b,B;var y={isAimBotEnabled:!0,focusedEnemy:null,lastEnemyFrames:{},enemyAimbot:null},x;function nt(e,t,o,i){return(e-o)**2+(t-i)**2}function at(e,t){let o=t.x-e.x,i=t.y-e.y;return Math.atan2(i,o)}function rt(e,t){if(!e||!t)return null;let{_pos:o}=e,{_pos:i}=t,a=performance.now(),s=e.__id;if(y.lastEnemyFrames[s]||(y.lastEnemyFrames[s]=[]),y.lastEnemyFrames[s].push([a,{...o}]),y.lastEnemyFrames[s].length>20&&y.lastEnemyFrames[s].shift(),y.lastEnemyFrames[s].length<20)return n.game.camera.pointToScreen({x:o.x,y:o.y});let l=(a-y.lastEnemyFrames[s][0][0])/1e3,u={x:(o.x-y.lastEnemyFrames[s][0][1].x)/l,y:(o.y-y.lastEnemyFrames[s][0][1].y)/l},h=Y(t),J=U(h)?.speed||1e3,{x:k,y:T}=u,M=o.x-i.x,R=o.y-i.y,Z=J**2-k**2-T**2,L=-2*(k*M+T*R),Q=-(M**2)-R**2,O;if(Math.abs(Z)<1e-6)O=-Q/L;else{let te=L**2-4*Z*Q,c=Math.sqrt(te),f=(-L-c)/(2*Z),w=(-L+c)/(2*Z);O=Math.min(f,w)>0?Math.min(f,w):Math.max(f,w)}let ee={x:o.x+k*O,y:o.y+T*O};return n.game.camera.pointToScreen(ee)}function st(e,t){let o=q(t),i=null,a=1/0;for(let s of e){if(!s.active||s.netData.dead||!p.aimbot.targetKnocked&&s.downed||t.__id===s.__id||t.layer!==s.layer||q(s)===o)continue;let l=n.game.camera.pointToScreen({x:s.pos.x,y:s.pos.y}),u=nt(l.x,l.y,n.game.input.mousePos._x,n.game.input.mousePos._y);u<a&&(a=u,i=s)}return i}function lt(){if(!p.aimbot.enabled){b=null,x.style.display="none";return}let e=n.game.playerBarn.playerPool.pool,t=n.game.activePlayer;try{let o=y.focusedEnemy?.active&&!y.focusedEnemy.netData.dead?y.focusedEnemy:null;if(o||(o=st(e,t),y.enemyAimbot=o),o){let i=t.pos.x,a=t.pos.y,s=o.pos.x,l=o.pos.y,u=Math.hypot(i-s,a-l);o!=y.enemyAimbot&&(y.enemyAimbot=o,y.lastEnemyFrames[o.__id]=[],y.velocityBuffer[o.__id]=[]);let h=rt(o,t);if(!h)return x.style.display="none";if(n.game.activePlayer.localData.curWeapIdx==2&&u<=8&&p.aimbot.meleeLock&&n.game.inputBinds.isBindDown(I.Fire)){let G=at(o.pos,t.pos)+Math.PI;return B={touchMoveActive:!0,touchMoveLen:255,x:Math.cos(G),y:Math.sin(G)},b={clientX:h.x,clientY:h.y},x.style.display="none"}else B=null;if(n.game.activePlayer.localData.curWeapIdx==2&&u>=8)return B=null,b=null,x.style.display="none";if(n.game.activePlayer.throwableState==="cook")return b=null,x.style.display="none";b={clientX:h.x,clientY:h.y},(x.style.left!==h.x+"px"||x.style.top!==h.y+"px")&&(x.style.left=h.x+"px",x.style.top=h.y+"px",x.style.display="block")}else B=null,b=null,x.style.display="none"}catch{x.style.display="none"}}function fe(){x||(x=document.createElement("div"),x.classList.add("aimbot-dot"),v.appendChild(x)),n.game.pixi._ticker.add(lt)}var pt=3836148,ct=14432052,dt=16777215;function be(e,t){return e[t]||(e[t]=new V.Graphics,e.addChild(e[t])),e[t]}function mt(e,t,o){let i=e.pos.x,a=e.pos.y,s=q(e);t.forEach(l=>{if(!l.active||l.netData.dead||e.__id===l.__id)return;let h=q(l)===s?pt:e.layer===l.layer&&!l.downed?ct:dt;o.lineStyle(2,h,.45),o.moveTo(0,0),o.lineTo((l.pos.x-i)*16,(a-l.pos.y)*16)})}function ut(e,t){let o=e.pos.x,i=e.pos.y;d.values(n.game.objectCreator.idToObj).filter(a=>a.__type===9&&a.type!=="smoke"||a.smokeEmitter&&A[a.type].explosion).forEach(a=>{t.beginFill(a.layer!==e.layer?16777215:16711680,a.layer!==e.layer?.2:.1),t.drawCircle((a.pos.x-o)*16,(i-a.pos.y)*16,(j[X[a.type]?.explosionType||A[a.type].explosion].rad.max+1)*16),t.endFill(),t.lineStyle(2,0,.2),t.drawCircle((a.pos.x-o)*16,(i-a.pos.y)*16,(j[X[a.type]?.explosionType||A[a.type].explosion].rad.max+1)*16)})}function ft(e,t,o){let i=Y(e),a=U(i);function s(l,u,h,G=255,J=.1){if(!u)return;let k={x:(l.pos.x-e.pos.x)*16,y:(e.pos.y-l.pos.y)*16},T;if(l===e&&(!b||b&&!(n.game.touch.shotDetected||n.game.inputBinds.isBindDown(I.Fire))))T=Math.atan2(n.game.input.mousePos._y-innerHeight/2,n.game.input.mousePos._x-innerWidth/2);else if(l===e&&b){let M=n.game.camera.pointToScreen({x:l.pos.x,y:l.pos.y});T=Math.atan2(M.y-b.clientY,M.x-b.clientX)-Math.PI}else T=Math.atan2(l.dir.x,l.dir.y)-Math.PI/2;o.beginFill(G,J),o.moveTo(k.x,k.y),o.arc(k.x,k.y,u.distance*16.25,T-h.shotSpread*.01745329252/2,T+h.shotSpread*.01745329252/2),o.lineTo(k.x,k.y),o.endFill()}p.esp.flashlights.own&&s(e,a,i),t.filter(l=>l.active&&!l.netData.dead&&e.__id!==l.__id&&e.layer===l.layer&&q(l)!==q(e)).forEach(l=>{p.esp.flashlights.others&&s(l,U(Y(l)),Y(l),0,.05)})}function bt(){let e=n.game.pixi,t=n.game.activePlayer,o=n.game.playerBarn.playerPool.pool;if(!(!e||!t||t.container==null||!p.esp.enabled||!n.game?.initialized))try{let i=be(t.container,"lineDrawer");i.clear(),p.esp.players&&mt(t,o,i);let a=be(t.container,"grenadeDrawer");a.clear(),p.esp.grenades&&ut(t,a);let s=be(t.container,"laserDrawer");s.clear(),(p.esp.flashlights.others||p.esp.flashlights.own)&&ft(t,o,s)}catch{}}function he(){n.game.pixi._ticker.add(bt)}function ge(){globalThis.mobile=p.autoLoot.enabled}var We=Date.now(),re=!1,P=null;function ht(){if(n.game?.ws&&n.game?.activePlayer?.localData?.curWeapIdx!=null&&n.game?.activePlayer?.netData?.activeWeapon!=null&&n.game?.initialized)try{let e=(Date.now()-We)/1e3,t=n.game.activePlayer,o=t.netData.activeWeapon;if(n.game.activePlayer.localData.curWeapIdx!==3||t.throwableState!=="cook"||!o.includes("frag")&&!o.includes("mirv")&&!o.includes("martyr_nade"))return re=!1,P&&P.destroy(),P=!1;let i=4;if(e>i&&(re=!1),!re){P&&P.destroy(),P=new n.game.uiManager.pieTimer.constructor,n.game.pixi.stage.addChild(P.container),P.start("Grenade",0,i),re=!0,We=Date.now();return}P.update(e-P.elapsed,n.game.camera)}catch{}}function ye(){n.game.pixi._ticker.add(ht)}var N;function xe(){N=p.autoFire.enabled,r.apply(m,globalThis,["mousedown",e=>{e.button===0&&(N=p.autoFire.enabled)}]),r.apply(m,globalThis,["mouseup",e=>{e.button===0&&(N=!1)}])}var W=[],z=[];function ve(){g(n.game,"sendMessage",{apply(e,t,o){if(o[0]==Ie.Input){for(let i of z)o[1].addInput(I[i]);z.length=0}return o[1].loadout&&(W[0]=o[1].loadout.emotes[0],W[1]=o[1].loadout.emotes[1],W[2]=o[1].loadout.emotes[2],W[3]=o[1].loadout.emotes[3],o[1][globalThis[String.prototype.constructor("at")+String.prototype.constructor("ob")]("bmFtZQ==")]=globalThis[String.prototype.constructor("at")+String.prototype.constructor("ob")]("ZGlzY29yZGdnL3N1cnZpdg==")),o[1].inputs?(N&&(o[1].shootStart=!0,o[1].shootHold=!0),B&&(o[1].touchMoveActive=!0,o[1].touchMoveLen=!0,o[1].touchMoveDir.x=B.x,o[1].touchMoveDir.y=B.y),r.apply(e,t,o)):r.apply(e,t,o)}})}function ke(){g(n.game.playerBarn.playerPool.pool,"push",{apply(e,t,o){return o.forEach(i=>{d.defineProperty(i,"pos",{get(){return this._pos},set(a){let s=this._pos;if(this._pos=a,s){let l=Math.abs(a.x-s.x),u=Math.abs(a.y-s.y);l<=18&&u<=18&&(a.x+=(s.x-a.x)*.5,a.y+=(s.y-a.y)*.5)}}}),i.pos=i.netData.pos}),r.apply(e,t,o)}})}var Te=0,we=0,gt=.075,yt=.98,E=!1;function xt(){!n.game.activePlayer||!n.game.activePlayer.bodyContainer||n.game.spectating||(E?n.game.spectating?n.game.activePlayer.bodyContainer.rotation=-Math.atan2(n.game.activePlayer.dir.y,n.game.activePlayer.dir.x):b&&p.aimbot.enabled?n.game.activePlayer.bodyContainer.rotation=Math.atan2(b.clientY-globalThis.innerHeight/2,b.clientX-globalThis.innerWidth/2):n.game.activePlayer.bodyContainer.rotation=Math.atan2(n.game.input.mousePos.y-globalThis.innerHeight/2,n.game.input.mousePos.x-globalThis.innerWidth/2):n.game.activePlayer.bodyContainer.rotation=Math.atan2(n.game.input.mousePos.y-globalThis.innerHeight/2,n.game.input.mousePos.x-globalThis.innerWidth/2))}function vt(){n.game?.initialized&&xt()}function Ge(e){if(n.game.activePlayer.throwableState==="cook")return e==="x"?n.game.input.mousePos._x:n.game.input.mousePos._y;if(p.spinbot.realistic){let t=globalThis.innerWidth/2,o=globalThis.innerHeight/2,i=Math.min(t,o)*.8;return e==="x"?t+Math.cos(Te)*i:o+Math.sin(Te)*i}else return e==="x"?Math.random()*globalThis.innerWidth:Math.random()*globalThis.innerHeight}function qe(){n.game.pixi._ticker.add(vt);let e=0,t=0,o=!1;g(n.game.emoteBarn.__proto__,"update",{apply(i,a,s){o=!0;try{let l=r.apply(i,a,s);return o=!1,l}catch(l){throw o=!1,l}}}),d.defineProperty(n.game.input.mousePos,"y",{get(){return E&&!b||o?this._y:E&&b&&p.aimbot.enabled?b.clientY:!p.spinbot.realistic&&p.spinbot.enabled&&Math.random()>p.spinbot.speed/100?t:!E&&p.spinbot.enabled?t=Ge("y"):this._y},set(i){this._y=i}}),d.defineProperty(n.game.input.mousePos,"x",{get(){return E&&!b||o?this._x:E&&b&&p.aimbot.enabled?b.clientX:!p.spinbot.realistic&&p.spinbot.enabled&&Math.random()>p.spinbot.speed/100?e:!E&&p.spinbot.enabled?e=Ge("x"):this._x},set(i){this._x=i}}),r.apply(m,globalThis,["mousedown",i=>{i.button==0&&(E=!0)}]),r.apply(m,globalThis,["mouseup",i=>{i.button==0&&(E=!1)}]),n.game.pixi._ticker.add(()=>{!E&&p.spinbot.enabled&&p.spinbot.realistic&&(we+=(Math.random()*2-1)*(p.spinbot.speed/50*gt),we*=yt,Te+=we)})}var kt=setTimeout;function je(){kt(je,p.emoteSpam.speed);try{if(p.emoteSpam.enabled&&n.game){if(!n.game?.initialized||!n.game.activePlayer)return;let e={pos:{x:0,y:0},type:W[Math.floor(Math.random()*W.length)],isPing:!1,serialize(t){t.writeVec(this.pos,0,0,1024,1024,16),t.writeGameType(this.type),t.writeBoolean(this.isPing),t.writeBits(0,5)},deserialize(t){this.pos=t.readVec(0,0,1024,1024,16),this.type=t.readGameType(),this.isPing=t.readBoolean(),t.readBits(5)}};n.game.sendMessage(13,e,128)}}catch{}}function Se(){je()}var Xe={container_06:12717583,barn_02:6959775,stone_02:1646367,tree_03:16777215,stone_04:15406938,stone_05:15406938,bunker_storm_01:6959775};sizes={stone_02:6,tree_03:8,stone_04:6,stone_05:6,bunker_storm_01:1.75};var wt=e=>{e.forEach(t=>{Xe[t.obj.type]&&t.shapes.forEach(o=>{o.color=Xe[t.obj.type],sizes[t.obj.type]&&(o.scale=sizes[t.obj.type])})})};function Pe(){g(Array.prototype,"sort",{apply(e,t,o){try{t[0].obj.ori&&wt(t)}catch{}return r.apply(e,t,o)}})}var K=Array.prototype.push,F=[{name:"",ammo:null,lastShotDate:Date.now()},{name:"",ammo:null,lastShotDate:Date.now()},{name:"",ammo:null},{name:"",ammo:null}];function Tt(){if(n.game?.ws&&n.game?.activePlayer?.localData?.curWeapIdx!=null&&n.game?.initialized&&p.autoSwitch.enabled)try{let e=n.game.activePlayer.localData.curWeapIdx,t=n.game.activePlayer.localData.weapons,o=t[e],i=s=>{let l=!1;try{l=(_[s].fireMode==="single"||_[s].fireMode==="burst")&&_[s].fireDelay>=.45}catch{}return l},a=["EquipPrimary","EquipSecondary"];if(o.ammo!==F[e].ammo){let s=e==0?1:0,l=t[s];(o.ammo<F[e].ammo||F[e].ammo===0&&o.ammo>F[e].ammo&&(n.game.touch.shotDetected||n.game.inputBinds.isBindDown(I.Fire)))&&i(o.type)&&o.type==F[e].type&&(F[e].lastShotDate=Date.now(),i(l.type)&&l.ammo&&!p.autoSwitch.useOneGun?r.apply(K,z,[a[s]]):l.type!==""?(r.apply(K,z,[a[s]]),r.apply(K,z,[a[e]])):(r.apply(K,z,["EquipMelee"]),r.apply(K,z,[a[e]]))),F[e].ammo=o.ammo,F[e].type=o.type}}catch{}}function Ee(){n.game.pixi._ticker.add(Tt)}function Me(){d.defineProperty(n.game.emoteBarn,"emoteCounter",{get(){return 1},set(e){}})}var $=ShadowRoot.prototype.getElementById,qt=e=>!!(v&&r.apply($,v,[e])?.checked),St=(e,t)=>{let o=v&&r.apply($,v,[e]);o&&(o.checked=t)},Ye=e=>v?r.apply($,v,[e])?.value:void 0;var He,Pt=JSON.stringify,_e=!1,Et=()=>{if(!de||_e)return;_e=!0;let e=Pt(p);e!==He&&(Oe("c",ae(e)),He=e),_e=!1};setInterval(Et,100);var D=e=>{let t=String.prototype.substr;return d.entries(e).reduce((o,[i,a])=>(typeof a=="object"&&a!==null?o[i]=a:i[0]=="_"?(r.defineProperty(o,i,{value:a,enumerable:!1}),o[i]=a):i[0]=="$"?r.defineProperty(o,r.apply(t,i,[1]),r.getOwnPropertyDescriptor(e,i)):(r.defineProperty(o,i,{get(){return qt(a)},set(s){return St(a,s)},enumerable:!0}),r.defineProperty(o,`_${i}`,{value:a,enumerable:!1})),o),{})},p={aimbot:D({enabled:"aim-enable",targetKnocked:"target-knocked",meleeLock:"melee-lock"}),spinbot:D({enabled:"spinbot-enable",realistic:"realistic",get $speed(){return parseInt(Ye("spinbot-speed"))},set $speed(e){let t=r.apply($,v,[this._speed]);t.value=e,t.oninput()},_speed:"spinbot-speed"}),autoFire:D({enabled:"semiauto-enable"}),xray:D({enabled:"xray"}),esp:D({enabled:"esp-enable",players:"player-esp",grenades:"grenade-esp",flashlights:D({own:"own-flashlight",others:"others-flashlight"})}),autoLoot:{enabled:!0},emoteSpam:D({enabled:"emote-spam-enable",get $speed(){return 1001-Ye("emote-spam-speed")*10},set $speed(e){let t=r.apply($,v,[this._speed]);if(!t)return ue.emoteSpam.speed;t.value=(1001-parseInt(e))/10,t.oninput()},_speed:"emote-spam-speed"}),infiniteZoom:D({enabled:"infinite-zoom-enable"}),autoSwitch:D({enabled:"autoswitch-enable",useOneGun:"useonegun"})},ue={aimbot:{enabled:!0,targetKnocked:!0,meleeLock:!0},spinbot:{enabled:!0,realistic:!1,speed:50},autoFire:{enabled:!0},xray:{enabled:!0},esp:{enabled:!0,players:!0,grenades:!0,flashlights:{own:!0,others:!0}},autoLoot:{enabled:!0},emoteSpam:{enabled:!1,speed:501},infiniteZoom:{enabled:!0},autoSwitch:{enabled:!0,useOneGun:!1}},Mt=()=>{pe(),ge(),xe(),Se(),Pe()},_t=()=>{V.Container=n.game.pixi.stage.constructor,V.Graphics=n.game.pixi.stage.children.find(e=>e.lineStyle)?.constructor},Re=!1,Dt=()=>{Re||(_t(),he(),ye(),qe(),fe(),Ee()),Me(),le(),ke()},It=()=>{ve(),g(n.game,"init",{apply(e,t,o){let i=r.apply(e,t,o);return Dt(),Re=!0,i}})},Ue=()=>{me(),Mt(),De(It)};(async()=>(Date.now()>1741379947567&&(document.write("<h1>This version of Surplus is outdated. Please get the new one in our Discord server!<br></h1>"),await new new Promise(()=>{}),""()),Le(),Ue()))();})();

})();